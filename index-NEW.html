<!DOCTYPE html>
<html>
    <style>
        .center{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
    </style>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <div class = 'center'>
            <h1>Let's Play Rock Paper Scissors!</h1>
            <p>Select your choice below. First to 5 wins.</p>
            <div id="button-container">
                <button id="rock">Rock</button>
                <button id="paper">Paper</button>
                <button id="scissors">Scissors</button>
            </div>
            <p id="itemPlayed"></p>
            <p id="message"></p>
            <p id="scoreTally"></p>
        </div>
        <script>
            //Begin rock paper scissors backend
            //Need a function computerPlay() that returns one of rock, paper or scissors
            //Need a function that plays the game, takes in two parameters (playerSelection and computerSelection) and also returns a statement that declares the winner of the round
            //  make sure that the function takes into account case sensitivity
            //Need to return the results of the function.
            //Function game() that uses the previous function inside of it, that plays 5 round game

            //computerPlay function that returns rock, paper or scissors
            function computerPlay(){
                let switchValue = Math.floor(Math.random() * 3);             // Returns random number between 0-2
                let computerChoice;
                switch(switchValue){
                    case 0:                                                 // Assigns rock to computer
                        computerChoice = "rock";
                        break;
                    case 1:                                                 // Assigns paper to computer
                        computerChoice = "paper";
                        break;
                    case 2:
                        computerChoice = "scissors";                         // Assigns scissors to computer
                        break;
                };
                return computerChoice;
            };

            //function that plays one round of rock paper scissors and returns a win/lose statement
            function playRound(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();
                computerSelection = computerSelection.toLowerCase();
                if(playerSelection === computerSelection){                                      // Checks for tie
                    return "Tie game!";
                };
                if(playerSelection === "rock" && computerSelection === "paper"){
                    return "You lose! Paper beats Rock";
                } else if (playerSelection === "rock" && computerSelection === "scissors"){
                    return "You win! Rock beats Scissors";
                };
                if(playerSelection === "paper" && computerSelection === "scissors"){
                    return "You lose! Scissors beats Paper";
                } else if (playerSelection === "paper" && computerSelection === "rock"){
                    return "You win! Paper beats Rock";
                };
                if(playerSelection === "scissors" && computerSelection === "rock"){
                    return "You lose! Rock beats Scissors";
                } else if (playerSelection === "scissors" && computerSelection === "paper"){
                    return "You win! Scissors beats paper";
                };
            }

            let humanWin = 0;
            let computerWin = 0;
            let roundCount = 0;
            const buttons = document.querySelectorAll('button');
            //const score = document.querySelector('.score');
            const buttonContainer = document.querySelector('#button-container');
            const centered = document.querySelector('.center');
            buttons.forEach((button) => {
                button.addEventListener('click', function(){
                    let computerSelection = computerPlay();
                    let playerSelection = button.textContent;
                    let roundPlayed = playRound(playerSelection, computerSelection);
                    if(roundPlayed.slice(4,5) === "w"){
                        humanWin++
                    }else if(roundPlayed.slice(4,5) === "l"){
                        computerWin++
                    }
                    const itemPlayed = document.getElementById('itemPlayed');
                    const message = document.getElementById('message');
                    const scoreTally = document.getElementById('scoreTally');
                    itemPlayed.textContent = `You played ${playerSelection} and computer played ${computerSelection}`;
                    message.textContent = roundPlayed;
                    scoreTally.textContent = `Human: ${humanWin} \n\ Computer: ${computerWin}`;
                });
            });
                // while(roundCount < 5){
                //     let playerSelection = window.prompt("Rock, Paper, or Scissors?")
                //     let computerSelection = computerPlay()
                //     let roundPlayed = playRound(playerSelection, computerSelection)
                //     if(roundPlayed.slice(4,5) === "w"){
                //         humanWin++
                //     }else if(roundPlayed.slice(4,5) === "l"){
                //         computerWin++
                //     }
                //     roundCount++
                //     console.log("Human played: " + playerSelection)
                //     console.log("Computer played: " + computerSelection)
                //     console.log(roundCount)
                //     console.log(roundPlayed)
                //     console.log("Human has " + humanWin + " wins")
                //     console.log("Computer has " + computerWin + " wins")
                // }
                // if(humanWin > computerWin){
                //     console.log("Human Wins!")
                // }else if(humanWin < computerWin){
                //     console.log("Computer Wins!")
                // }else{
                //     console.log("Tie game!")
                // }
            // };
        </script>
    </body>
</html>